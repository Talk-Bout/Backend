generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}




model User {
  nickname      String      @id 
  email         String      @unique
  password      String
  profilePic    String? 
  role          String      @default("none")
  comment       Comment[]
  post          Post[]
  bookmark      Bookmark[]
  like          Like[]
} 

model Post {
  postId        Int         @id @default(autoincrement())
  createdAt     DateTime    @default(now())
  content       String    
  user          User        @relation(fields:[nickname],references:[nickname])
  nickname      String      
  category      String   
  bookmark      Bookmark[]
  like          Like[] 
  comment       Comment[]
}

model Comment {
  commentId     Int         @id @default(autoincrement())
  createdAt     DateTime    @default(now())
  content       String    
  user          User        @relation(fields:[nickname],references:[nickname])
  nickname      String    
  post          Post        @relation(fields:[postId],references:[postId])
  postId        Int      
}

model Like{
  likeId        Int         @id @default(autoincrement())
  user          User        @relation(fields:[nickname], references:[nickname])
  nickname      String   
  post          Post        @relation(fields:[postId], references:[postId])
  postId        Int      
}

model Bookmark{
  bookmarkId    Int         @id @default(autoincrement())
  user          User        @relation(fields:[nickname], references:[nickname])
  nickname      String
  post          Post        @relation(fields:[postId], references:[postId])
  postId        Int       
}
